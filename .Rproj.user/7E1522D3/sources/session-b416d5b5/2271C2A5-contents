# Defining a small toy data set to test the package

## Simulated Dataset
ace <- readRDS('/Users/carlomanenti/home/carlo.manenti/scstates-review/Step2-Data-Handling/Data/data.ace.rds')
# using a single cell experiment since we will use this data structure as core
# structure to store all the data
sce <- ACTIONetExperiment::as.SingleCellExperiment(ace)
# reducing the dimensions of the datset (with its metadata)
simulated_data.sce <- sce[seq_len(500), seq_len(1000)]
colData(simulated_data.sce) <- colData(simulated_data.sce)[seq_len(1000), ]

# quick check that all the properties of the dataset are maintained!
table(sce$cluster)
table(simulated_data.sce$cluster)
# very similar distribution

table(sce$program.usage > 0.2)
table(simulated_data.sce$program.usage > 0.2)
# almost identical proportion

table(sce$is.doublet)
table(simulated_data.sce$is.doublet)
# almost identical proportion


## Storing the data in the package data directory
usethis::use_data(simulated_data.sce, overwrite = TRUE)

## Making a version which fits best my need and has meaningful rownames
human <- readRDS('/Users/carlomanenti/group/davila/DB/HUMAN/Trevino2021.ace.rds')
load('data/simulated_data.sce.rda')
rownames(simulated_data.sce) <- rownames(human)[seq(500)]
sce <- simulated_data.sce
usethis::use_data(sce)
